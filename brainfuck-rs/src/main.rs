
pub mod lexer;
pub mod parser;
pub mod brainfuck;

fn main() {
    let mut tape: Vec<u8> = vec![0; 30000];
    let mut pointer: usize = 15000;
    
    let code = String::from("
        [-]
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        ++++++++++++.
        
        [-]
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        +++++++++++.
        
        [-]>++[<
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++. 
        
        [-]>-]<
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        ++++++++++++++++++++++++++++++
        +++++++++++++++++++++.
    ");

    let tokens = lexer::lexer(code);
    let instructions = parser::parser(&tokens);
    brainfuck::brainfuck(&instructions, &mut tape, &mut pointer);
}

